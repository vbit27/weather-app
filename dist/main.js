(()=>{"use strict";const e=document.querySelector(".city-name"),t=document.querySelector(".weather-description"),r=document.querySelector(".icon"),n=document.querySelector(".temperature"),i=document.querySelector(".wind-data"),o=document.querySelector(".pressure-data"),c=document.querySelector(".feel-data"),a=document.querySelector(".humidity-data"),d=document.querySelector(".metric"),m=document.querySelector(".imperial"),s=document.getElementById("city-name"),u=document.getElementById("search-btn"),l=document.querySelector(".metric"),h=document.querySelector(".imperial");function p(s,u){fetch(`https://api.openweathermap.org/data/2.5/weather?q=${s}&units=${u}&appid=06390dd87d5264ce0e550a12e2f79b20`,{mode:"cors"}).then((e=>e.json())).then((e=>{if(e.cod&&"404"===e.cod)throw Error(e.message);return e})).then((s=>{var l;!function(s,u){r.src=`https://openweathermap.org/img/wn/${s.icon}@2x.png`,e.textContent=s.name,t.textContent=s.description,a.textContent=`${s.humidity} %`,a.style.fontWeight="200",o.textContent=`${s.pressure} hPa`,o.style.fontWeight="200","metric"===u?(n.textContent=`${s.temp} ${String.fromCharCode(176)}C`,i.textContent=`${s.humidity} km/h`,i.style.fontWeight="200",c.textContent=`${s.feels} ${String.fromCharCode(176)}C`,c.style.fontWeight="200",d.classList.add("active"),m.classList.remove("active")):(n.textContent=`${s.temp} ${String.fromCharCode(176)}F`,i.textContent=`${s.humidity} m/h`,i.style.fontWeight="200",c.textContent=`${s.feels} ${String.fromCharCode(176)}F`,c.style.fontWeight="200",d.classList.remove("active"),m.classList.add("active"))}({id:(l=s).weather[0].id,name:l.name,description:l.weather[0].description,icon:l.weather[0].icon,temp:Math.round(l.main.temp),feels:Math.round(l.main.feels_like),humidity:l.main.humidity,wind:l.wind.speed,pressure:l.main.pressure},u)})).catch((e=>{alert(e)}))}const y=(e=>{let t="metric",r="berlin";return{search:e=>{s.value?(e.preventDefault(),r=s.value,p(r,t)):alert("Put a valid city name")},switchToMetric:()=>{t="metric",p(r,t)},switchToImperial:()=>{t="imperial",p(r,t)}}})();p("berlin","weather"),u.addEventListener("click",(e=>{y.search(e)})),h.addEventListener("click",y.switchToImperial),l.addEventListener("click",y.switchToMetric)})();